
'''
GramÃ¡tica para uma linguagem simples.

'''

'''
1. EspecificaÃ§Ã£o da GramÃ¡tica Atual
'''
'''Primeiro, temos as seguintes regras gramaticais:'''

Start â†’ stmt $
Stmt â†’ id assign E
Stmt â†’ if lparen E rparen Stmt else Stmt fi
Stmt â†’ if lparen E rparen Stmt fi
Stmt â†’ while lparen E rparen do Stmt od
Stmt â†’ begin Stmts end
Stmts â†’ Stmts semi Stmt
Stmts â†’ Stmt
E â†’ E plus T
E â†’ T
T â†’ id
T â†’ num



'''Regras de DeclaraÃ§Ã£o e ExpressÃ£o LÃ³gica:'''

Dccl â†’ int id | float id;
Assign â†’ id = expr;
Expr â†’ Expr logic | Expr A;
Expr logic â†’ ! Expr logic
Expr logic â†’ Expr logic AND Expr logic
Expr logic â†’ Expr logic OR Expr logic
Expr logic â†’ (Expr logic)
Expr logic â†’ Expr A OR Expr A



'''2. IdentificaÃ§Ã£o de RecursÃ£o Ã  Esquerda'''

'''A recursÃ£o Ã  esquerda ocorre quando uma produÃ§Ã£o de uma gramÃ¡tica tem uma regra onde o lado direito comeÃ§a com o prÃ³prio nÃ£o terminal do lado esquerdo. Neste caso, identificamos as seguintes regras com recursÃ£o Ã  esquerda:'''

E â†’ E plus T
Expr â†’ Expr logic | Expr A
Expr logic â†’ Expr logic AND Expr logic
Expr logic â†’ Expr logic OR Expr logic


'''3. EliminaÃ§Ã£o da RecursÃ£o Ã  Esquerda'''

Para E â†’ E plus T | T

'''Identificamos a recursÃ£o Ã  esquerda: E â†’ E plus T'''
'''Criamos uma nova regra substituta E':'''

E â†’ T E'
E' â†’ plus T E' | Îµ
Para Expr â†’ Expr logic | Expr A

'''Identificamos a recursÃ£o Ã  esquerda: Expr â†’ Expr logic
Criamos uma nova regra substituta Expr':'''

Expr â†’ Expr A Expr'
Expr' â†’ logic Expr' | Îµ

Para Expr logic â†’ Expr logic AND Expr logic | Expr logic OR Expr logic | ! Expr logic | (Expr logic)

Identificamos a recursÃ£o Ã  esquerda: Expr logic â†’ Expr logic AND Expr logic e Expr logic â†’ Expr logic OR Expr logic

Criamos uma nova regra substituta Expr logic':
Expr logic â†’ ! Expr logic | (Expr logic) Expr logic'
Expr logic' â†’ AND Expr logic Expr logic' | OR Expr logic Expr logic' | Îµ

'''GramÃ¡tica Ajustada Sem RecursÃ£o Ã  Esquerda'''

Regras Ajustadas:
Start â†’ Stmt $
Stmt â†’ id assign E | if lparen E rparen Stmt else Stmt fi | if lparen E rparen Stmt fi | while lparen E rparen do Stmt od | begin Stmts end
Stmts â†’ Stmts semi Stmt | Stmt
E â†’ T E'
E' â†’ plus T E' | Îµ
T â†’ id | num
Expr â†’ Expr A Expr'
Expr' â†’ logic Expr' | Îµ
Expr logic â†’ ! Expr logic | (Expr logic) Expr logic'
Expr logic' â†’ AND Expr logic Expr logic' | OR Expr logic Expr logic' | Îµ
Dccl â†’ int id | float id;
Assign â†’ id = expr;


**********************************************************************************************************
Para resolver o problema, siga estes passos:
DefiniÃ§Ã£o do Token LOGIC:

Certifique-se de que o token 'LOGIC' estÃ¡ definido corretamente no seu analisador lÃ©xico. Se nÃ£o, vocÃª deve adicionÃ¡-lo.
Caso 'LOGIC' seja uma regra gramatical, deve ser implementada como uma regra no arquivo grammar.py.
VerificaÃ§Ã£o das Regras Definidas:

Verifique se as regras definidas (dccl, assign, expr, expr_A, expr_prime, expr_logic, expr_logic_prime) estÃ£o sendo usadas corretamente e se sÃ£o necessÃ¡rias na gramÃ¡tica.
Se elas nÃ£o forem necessÃ¡rias, considere removÃª-las. Se forem, certifique-se de que hÃ¡ produÃ§Ãµes que as utilizam.
AtualizaÃ§Ã£o do Arquivo grammar.py:

Adicione a definiÃ§Ã£o para o token 'LOGIC' ou qualquer outra regra que esteja faltando.
Garanta que todas as regras gramaticais necessÃ¡rias estejam corretamente definidas e utilizÃ¡veis.
Exemplo de AtualizaÃ§Ã£o do Arquivo grammar.py:
Supondo que 'LOGIC' seja um token que representa operadores lÃ³gicos, vocÃª pode defini-lo da seguinte forma:









import ply.lex as lex
import ply.yacc as yacc

# DefiniÃ§Ã£o dos tokens
tokens = (
    'LOGIC',
    # outros tokens...
)

# ExpressÃ£o regular para o token LOGIC
t_LOGIC = r'and|or|not'

# DefiniÃ§Ã£o das regras da gramÃ¡tica
def p_expr_logic(p):
    '''expr_logic : expr LOGIC expr'''
    p[0] = ('logic', p[1], p[2], p[3])

# Outras regras...

# ConstruÃ§Ã£o do parser
parser = yacc.yacc()

if __name__ == '__main__':
    G = Grammar()
    G.grammar('S')
    G.add_nonterminal('A')
    G.add_nonterminal('B')
    G.add_terminal('a')
    G.add_terminal('b')
    G.add_terminal('c')
    G.add_production('S', ['A', 'B', 'c'])
    G.add_production('A', ['a'])
    G.add_production('A', ['c'])
    G.add_production('A', [])
    G.add_production('B', 'b')
    G.add_production('B', 'c')
    G.add_production('B', [])
    # Seu cÃ³digo para manipular a gramÃ¡tica...


Isso deve corrigir o problema, eliminando o erro relacionado ao token nÃ£o definido e os avisos sobre regras nÃ£o utilizadas. Se ainda houver avisos sobre regras nÃ£o utilizadas, verifique se todas as regras definidas sÃ£o realmente necessÃ¡rias para a anÃ¡lise da gramÃ¡tica.




Regras da GramÃ¡tica:

Regra 0:  ğ‘† â€²  â†’ inÃ­cio
Regra 1: inÃ­cio â†’ sentenÃ§a
Regra 2: sentenÃ§a â†’ ID ATRIBUIR E
Regra 3: sentenÃ§a â†’ SE (E) sentenÃ§a SENÃƒO sentenÃ§a FIM_SE
Regra 4: sentenÃ§a â†’ SE  E  sentenÃ§a FIM_SE
Regra 5: sentenÃ§a â†’ ENQUANTO  E  FAÃ‡A sentenÃ§a FIM_ENQUANTO
Regra 6: sentenÃ§a â†’ INÃCIO sentenÃ§as FIM
Regra 7: sentenÃ§as â†’ sentenÃ§as PONTO_VÃRGULA sentenÃ§a
Regra 8: sentenÃ§as â†’ sentenÃ§a
Regra 9: E â†’ T E_prime
Regra 10: E_prime â†’ MAIS T E_prime
Regra 11: E_prime â†’ vazio
Regra 12: T â†’ ID
Regra 13: T â†’ NUM
Regra 14: expr â†’ expr_A expr_prime
Regra 15: expr_prime â†’ LÃ“GICO expr_prime
Regra 16: expr_prime â†’ vazio
Regra 17: expr_A â†’ T
Regra 18: expr_lÃ³gica â†’ NÃƒO expr_lÃ³gica
Regra 19: expr_lÃ³gica â†’ expr_lÃ³gica expr_lÃ³gica_prime
Regra 20: expr_lÃ³gica â†’ T expr_lÃ³gica_prime
Regra 21: expr_lÃ³gica_prime â†’ E expr_lÃ³gica expr_lÃ³gica_prime
Regra 22: expr_lÃ³gica_prime â†’ OU expr_lÃ³gica expr_lÃ³gica_prime
Regra 23: expr_lÃ³gica_prime â†’ vazio
Regra 24: vazio â†’ <vazio>
Regra 25: declaracao â†’ INTEIRO ID
Regra 26: declaracao â†’ REAL ID
Regra 27: atribuicao â†’ ID ATRIBUIR  exp


Terminais (sÃ­mbolos terminais), com as regras em que aparecem:
E â†’ 21
ATRIBUIR â†’ 2 27
INÃCIO â†’ 6
FAÃ‡A â†’ 5
SENÃƒO â†’ 3
FIM â†’ 6
FIM_SE â†’ 3 4
REAL â†’ 26
ID â†’ 2 12 25 26 27
SE â†’ 3 4
INTEIRO â†’ 25
( â†’ 3 4 5 19
NÃƒO â†’ 18
NUM â†’ 13
FIM_ENQUANTO â†’ 5
OU â†’ 22
MAIS â†’ 10
) â†’ 3 4 5 19
PONTO_VÃRGULA â†’ 7
ENQUANTO â†’ 5
erro â†’
NÃ£o terminais (sÃ­mbolos nÃ£o terminais), com as regras em que aparecem:

E â†’ 2 3 4 5
E_prime â†’ 9 10
LÃ“GICO â†’ 15
T â†’ 9 10 17 20
atribuicao â†’
declaracao â†’
vazio â†’ 11 16 23
expr â†’ 27
expr_A â†’ 14
expr_lÃ³gica â†’ 18 19 21 22
expr_lÃ³gica_prime â†’ 19 20 21 22
expr_prime â†’ 14 15   // ModificaÃ§Ã£o de uma regra anterior
inÃ­cio â†’ 0
sentenÃ§a â†’ 1 3 3 4 5 7 8
sentenÃ§as â†’ 6 7

